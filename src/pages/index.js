import Head from 'next/head';
import Image from 'next/image';
import Link from 'next/link';

export default function Home({ data }) {
    return (
        <>
            <Head>
                <title>Events App</title>
                <meta
                    name="description"
                    content="Generated by create next app"
                />
                <meta
                    name="viewport"
                    content="width=device-width, initial-scale=1"
                />
                <link rel="icon" href="/favicon.ico" />
            </Head>
            <header>
                <nav>
                    <Link href="/">Home</Link>
                    <Link href="/events">Events</Link>
                    <Link href="/about-us">About Us</Link>
                </nav>
            </header>
            <main>
                {data.map((eventCategory) => (
                    <div key={eventCategory.id}>
                        <Link href={`/events/${eventCategory.id}`}>
                            <Image
                                src={eventCategory.image}
                                alt={eventCategory.title}
                                width={300}
                                height={300}
                            />
                            <h2>{eventCategory.title}</h2>
                            <p>{eventCategory.description}</p>
                        </Link>
                    </div>
                ))}
            </main>
            {/* <footer>&copy; {new Date().getFullYear()}</footer> */}
        </>
    );
}

export async function getStaticProps() {
    const { events_categories } = await import('../../data/data.json');

    return {
        props: {
            data: events_categories,
        },
    };
}
